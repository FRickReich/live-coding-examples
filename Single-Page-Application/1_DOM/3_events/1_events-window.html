<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <h1>Events</h1>

        <h2>Was sind events?</h2>

        <!--         
            events sind befehle, die im browser ausgelöst werden, wenn etwas bestimmtes passiert ist, wie ein button click, 
            oder das verändern der größe des browsers.

            Ein event gibt uns ein callback zurück, 
            das bedeutet das wir als antwort auf eine erfolgreiche aktion direkt die möglichkeit haben mit den übergebenen daten zu arbeiten,
            das kennen wir schon von .forEach(); oder .map(); events geben uns ein objekt zurück, das informationen zum jeweiligen event beinhaltet.
        -->

        <!-- Sagen wir, wir haben einen button der gemütlich seinen kaffee trinkt -->
        <button id="klickMich">Click</button>

        <!-- Wir haben hier noch einen typen, der managed den code -->
        <script>
            // jetzt fügen wir noch eine person hinzu, den eventListener, er macht nix anderes
            // als sozusagen mit einem ohr zu hören, ob er gerufen wird,
            // und mit einer hand eine pistole mit papierkügelchen halten, mit der er auf eine funktion zielt.
            // auf den papierkugeln stehen informationen über das aktuelle element drauf.
            document.getElementById("klickMich").addEventListener('click', reaktion);
            
            // Die arme funktion hier unten, wird vom eventListener mit der wasserpistole bedroht.

            // jetzt kommt der böse benutzer, klickt auf den button, der manager sieht das, schreit laut EVENTLISTENER, FEUER!
            // der eventlistener feuert sofort auf die funktion, die daraufhin die kugel liest und dann tut wozu sie erschaffen wurde.
            function reaktion(event)
            {
                event.target.style.background = "tomato";
                console.log("Hilfe!");
            }

            // und was passiert dann? Alles wird zurückgesetzt, der manager schaut wieder ob was passiert,
            // der eventListener hört wieder zu, und zielt wieder auf die funktion.
        </script>



        <!-- 
            Ein beispiel für diese art der codebehandlung wäre zum beispiel
            eine online zahlung mit paypal oder einem ähnlichen service:
            - wir bestellen den artikel und werden auf die paypal seite weitergeleitet, dort bestätigen wir unsere eingaben,
            und erst wenn unsere daten und geldmittel validiert wurden, und dadurch der kauf erfolgreich durchgeführt werden kann,
            werden wir auf die shopseite zurückgeführt, der callback passiert hier auf seiten von paypal, 
            und wird ausgeführt, wenn wir den bestätigen button gedrückt haben.
        -->
    
        <p>
            es gibt zwei wege die typischen eventlistener zu nutzen, die methode .addeventlistener(); und den parameter on;
        </p>

        <!--
            früher war es nötig für jedes event einen eventlistener zu schreiben,
            heutzutage wird von den meisten browsern eine kürzere methode unterstützt,
            .addEventListener(); ist allerdings beim erstellen eigener events wichtig.
            
            Wir nutzen den neuen weg, und schreiben ihn im arrow-function stil.
        -->

        <script>
            // der alte weg: document.addEventListener('keydown', function(event));
            // der neue weg: document.onkeydown = function(event);
            // der neue weg als arrow function: window.onload = (event) => {};
        </script>


    <h2>Window</h2>

    <section>
        <h3>
            <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event">
                Window.onload;
            </a>
        </h3>
    
        <p>
            Dieses Event führt einen callback aus wenn das browserfenster fertig geladen hat, 
            also wenn alle resourcen der angezeigten html datei heruntergeladen wurden.
        </p>

        <ul>
            <li>
                <code>window.addEventListener('load', (event) => {});</code>
            </li>
            <li>
                <code>window.onload = (event) => {}</code>
            </li>
        </ul>
    
        <script>
            window.onload = (event) => {
                console.log(".onload; - Die seite wurde fertig geladen!", event);
            };
        </script>
    </section>

    <section>
        <h3>
            <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/resize_event">    
                Window.resize;
            </a>
        </h3>
    
        <p>
            Das .resize; event führt einen callback aus, wenn die größe des browserfensters verändert wurde.
        </p>
    
        <ul>
            <li>
                <code>window.addEventListener('resize', (event) => {});</code>
            </li>
            <li>
                <code>window.onresize = (event) => {}</code>
            </li>
        </ul>
    
        <script>
            window.onresize = (event) =>
            {
                console.log(".onresize; - Wir haben die browsergröße verändert");
                console.log("breite: " + window.innerWidth);
                console.log("höhe:" + window.innerHeight);
            }
        </script>
    </section>
</body>
</html>